# GetCompetitionResultOperation - получение результатов соревнований

## Параметры

| Название      | Тип   | Обязательность | Описание         |
|---------------|-------|---------------|------------------|
| CompetitionId | Path  | +             | Id соревноваия   |
| UserId        | JWT   | +             | Id пользователя  |
| username      | query | -             | Имя пользователя |

## Алгоритм

1. Получить соревнование из **competitions** по **id = competitionId**
    1. Если не найдено, выбросить **CompetitionNotFound(422)**
    2. Если соревнование не закончилось выбросить **CompetitionNotEnded(422)**
    3. Если пользователь не автор и не участник выбросить **Forbidden(403)**
2. Получить userIds
   1. Если **query.username** передан, то обогатиться пользователями из **users** где **username like %query.username%**
   2. Иначе обогатиться из **competitions_users** по **userId = userId из JWT**
2. Вернуть список. Маппинг:

   | Название | Значение                                                                                               | 
   |----------|--------------------------------------------------------------------------------------------------------|
   | userId   | userId                                                                                                 |
   | username | users.username                                                                                         |
   | points   | Обогатиться последними успешными решениями для задач из competitions_tasks и сложить полученные points |